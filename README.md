<h1 align="center">KickAdvisor</h1>

<div align="justify">
  <p>
    <strong>Kickbase Trading Advisor:</strong> A helper for the fantasy football game <a href="https://www.kickbase.com" target="_blank" rel="noopener">Kickbase</a>, built to predict next-day player market value movements. Each day, you’ll receive an email with predicted market value changes for all players currently on your league’s transfer market and on your personal squad. This project uses the community <a href="https://kevinskyba.github.io/kickbase-api-doc/index.html" target="_blank" rel="noopener">Kickbase API</a> by <a href="https://github.com/kevinskyba" target="_blank" rel="noopener">kevinskyba</a>, big shoutout!
  </p>
</div>

<h2 align="center">What Does the Tool Do?</h2>
<div align="justify">
  <ol>
    <li>
      <strong>Data Collection:</strong> Gets historical data from the API, including up to one year of player market values and performance stats. The performance data covers matchdays, points scored, minutes played, goals, and more.
    </li>
    <li>
      <strong>Feature Engineering:</strong> Adds extra metrics that are not directly in the API. These are calculated from the collected data and include things like market value trends, volatility, market divergence, and similar stats for more context.
    </li>
    <li>
      <strong>Model Training:</strong> Uses a Random Forest Regressor to learn how these features relate to future market value changes. The model is trained to spot patterns and make predictions about next-day market movements.
    </li>
    <li>
      <strong>Daily Recommendations:</strong> Takes the model’s predictions and compares them with the players listed on your league’s market and your own squad. The results are then sent to you by email every evening at around 22:30 after the market values update.
    </li>
  </ol>
</div>

<h2 align="center">How Can You Use It?</h2>

<div align="justify">
<strong>Note:</strong> The default competition of the tool is the first German Bundesliga. If you would like to change this, go into the main <code>daily_predictions.py</code> file and change the value of the variable <code>competition_ids</code> on line 49.
</div>

<br>

<div align="justify">
  <ol>
	    <li><strong>Fork the Repository:</strong> Click the "Fork" button to create a copy of this repository in your account.</li>
	<li><strong>Set League Name:</strong> In the file <code>daily_predictions.py</code> on line 48, change <code>league_name = "Your League Name"</code> to the name of your league. This must exactly match the name of your league, including spaces and uppercase/lowercase letters.</li>
    <li><strong>Add Your Secrets:</strong> In your fork, add the following secrets.<br>
      <ul>
        <li><code>KICK_USER</code>: Your Kickbase Username (usually your email)</li>
        <li><code>KICK_PASS</code>: Your Kickbase Password (handled securely)</li>
        <li><code>EMAIL_USER</code>: Your Email Address (for sending and receiving emails)</li>
        <li><code>EMAIL_PASS</code>: Password for Your Email Adress (potentially an app password)</li>
		    <ul>
		      <li>An app password is a special password generated by your email provider for third-party apps. You usually need it if your email uses two-factor authentication. Check your email account settings under "Security" or "App Passwords" to see if you need one. <a href="https://support.google.com/mail/answer/185833?hl=en" rel="noopener">Here</a> is an example on how Google handles this.</li>
	       </ul>
      </ul>
    </li>
   <li><strong>Test Your Setup:</strong> Go to the "Actions" tab in your fork. Click "Run Daily Predictions" and then "Run Workflow". It should take at max about 2 minutes. If everything works, you will receive an email. If not, check that all secrets and your league name have been added correctly. After this, the tool will run automatically every day between approximately 22:30 and 23:30. The scheduled time can also be changed in the <code>actions.yml</code> file. </li>
  </ol>
</div>

<div align="justify">
<strong>Other Use Case Options: </strong>The tool can be used without the email notifier. Just comment out the last line in <code>daily_predictions.py</code>, and the results will still be displayed in the GitHub Action execution log. As described in the third step "Test Your Setup", you can also always execute the workflow manually, and you are not bound to the scheduled time. The tool can also be used locally without GitHub Actions: for this, you need to have Python installed, and the packages needed, which are listed in requirements.txt. At last, create a <code>.env</code> file in the root folder with the same credentials you used in your secrets. You can then execute the main file <code>daily_predictions.py</code>. If you have any further questions or find any issues, please use the "Issues" tab at the top of the repository or contact me via the email listed on my GitHub profile.
</div>

<h2 align="center">Future Work & Ideas</h2>
  <li>Budget calculation of the other managers</li>
  <li>Three days and one week market predictions</li>
  <li>Overpay calculator, based upon patterns of the other managers</li>
